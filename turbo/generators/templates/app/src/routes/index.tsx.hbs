import { Routes, Route, useNavigate } from "react-router-dom";
import { ErrorPage } from "@pf-dev/ui/templates";
{{#if useProtectedRouter}}
import { ProtectedRouter } from "@pf-dev/services";
{{/if}}

import { RootLayout } from "@/layouts/RootLayout";
import { HomePage{{#if useAuth}}, LoginPage{{/if}} } from "@/pages";

function NotFoundPage() {
  const navigate = useNavigate();
  return (
    <ErrorPage
      variant="404"
      primaryAction=\{{ label: "홈으로", onClick: () => navigate("/") }}
    />
  );
}

export function AppRoutes() {
  return (
    <Routes>
{{#if useAuth}}
      {/* Public routes */}
      <Route path="/login" element={<LoginPage />} />

{{#if useProtectedRouter}}
      {/* Protected routes */}
      <Route
        element={
          <ProtectedRouter>
            <RootLayout />
          </ProtectedRouter>
        }
      >
        <Route index element={<HomePage />} />
        {/* Add more protected routes here */}
      </Route>
{{else}}
      {/* Routes with auth but no protection */}
      <Route element={<RootLayout />}>
        <Route index element={<HomePage />} />
        {/* Add more routes here */}
      </Route>
{{/if}}
{{else}}
      {/* Routes without authentication */}
      <Route element={<RootLayout />}>
        <Route index element={<HomePage />} />
        {/* Add more routes here */}
      </Route>
{{/if}}

      {/* 404 */}
      <Route path="*" element={<NotFoundPage />} />
    </Routes>
  );
}
