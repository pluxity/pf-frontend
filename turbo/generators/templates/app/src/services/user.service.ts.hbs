import type { DataResponse, PageResponse } from "@pf-dev/api";
import { apiClient } from "./client";
import type {
  User,
  CreateUserRequest,
  UpdateUserRequest,
} from "./types/user";

export const userService = {
  /** 사용자 목록 조회 */
  getUsers: (params?: { page?: number; size?: number }) => {
    return apiClient.get<PageResponse<User>>("/users", { params });
  },

  /** 사용자 상세 조회 */
  getUser: async (id: number): Promise<User> => {
    const result = await apiClient.get<DataResponse<User>>(`/users/${id}`);
    return result.data;
  },

  /** 사용자 생성 */
  createUser: (data: CreateUserRequest) => {
    return apiClient.post<DataResponse<User>>("/users", data);
  },

  /** 사용자 수정 */
  updateUser: (id: number, data: UpdateUserRequest) => {
    return apiClient.put<DataResponse<User>>(`/users/${id}`, data);
  },

  /** 사용자 삭제 */
  deleteUser: (id: number) => {
    return apiClient.delete<void>(`/users/${id}`);
  },
};
